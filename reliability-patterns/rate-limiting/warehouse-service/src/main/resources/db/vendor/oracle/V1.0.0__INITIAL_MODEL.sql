CREATE TABLE PRODUCTS
(
    ID          NUMBER(20) GENERATED BY DEFAULT AS IDENTITY,
    PRODUCT_ID  VARCHAR2(36 CHAR) NOT NULL,
    NAME        VARCHAR2(100 CHAR) NOT NULL,
    DESCRIPTION VARCHAR2(4000 CHAR),
    STOCK       NUMBER(20) NOT NULL,
    PRICE       NUMBER(20,4) NOT NULL,
    CURRENCY    VARCHAR2(5 CHAR) NOT NULL,
    CREATED     TIMESTAMP(6) NOT NULL,
    MODIFIED    TIMESTAMP(6),
    CONSTRAINT PRODUCTS_PK PRIMARY KEY (ID),
    CONSTRAINT PRODUCTS_PRODUCT_ID UNIQUE (PRODUCT_ID),
    CONSTRAINT PRODUCTS_NAME_UC UNIQUE (NAME)
);

CREATE TABLE RESERVATIONS
(
    ID             NUMBER(20) GENERATED BY DEFAULT AS IDENTITY,
    RESERVATION_ID VARCHAR2(36 CHAR) NOT NULL,
    PRODUCT_ID     NUMBER(20),
    ORDER_ID       VARCHAR2(36 CHAR) NOT NULL,
    QUANTITY       NUMBER(20) NOT NULL,
    STATUS         VARCHAR2(20 CHAR) NOT NULL,
    CREATED        TIMESTAMP(6) NOT NULL,
    MODIFIED       TIMESTAMP(6),
    CONSTRAINT RESERVATIONS_PK PRIMARY KEY (ID),
    CONSTRAINT RESERVATIONS_PRODUCT_ID_FK FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS (ID),
    CONSTRAINT INVENTORY_PRODUCT_ID_ORDER_ID_UC UNIQUE (PRODUCT_ID, ORDER_ID)
);
