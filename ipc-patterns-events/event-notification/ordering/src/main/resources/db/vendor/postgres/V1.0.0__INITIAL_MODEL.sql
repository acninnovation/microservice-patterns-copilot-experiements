CREATE TABLE ORDERS
( ID                                        INTEGER                   GENERATED BY DEFAULT AS IDENTITY
, ORDER_ID                                  VARCHAR(36)               NOT NULL
, CUSTOMER_ID                               VARCHAR(36)               NOT NULL
, STATUS                                    VARCHAR(20)               NOT NULL
, CREATED                                   TIMESTAMP(6)              NOT NULL
, MODIFIED                                  TIMESTAMP(6)
, CONSTRAINT ORDERS_ORDER_ID                UNIQUE (ORDER_ID)
, CONSTRAINT ORDERS_PK                      PRIMARY KEY (ID)
);

CREATE TABLE ITEMS
( ID                                        INTEGER                   GENERATED BY DEFAULT AS IDENTITY
, ORDER_ID                                  INTEGER                   NOT NULL
, PRODUCT_ID                                VARCHAR(36)               NOT NULL
, QUANTITY                                  INTEGER                   NOT NULL
, STATUS                                    VARCHAR(20)               NOT NULL
, CREATED                                   TIMESTAMP(6)              NOT NULL
, MODIFIED                                  TIMESTAMP(6)
, CONSTRAINT ITEMS_PK                       PRIMARY KEY (ID)
, CONSTRAINT ITEMS_ORDER_ID_PRODUCT_ID_UC   UNIQUE (ORDER_ID, PRODUCT_ID)
, CONSTRAINT ITEMS_ORDER_ID_FK              FOREIGN KEY (ORDER_ID)    REFERENCES ORDERS (ID)
);
